<?phpnamespace app\frontend\controller;use app\admin\model\BannerModel;use app\admin\model\NewsModel;class IndexController extends BaseController{    public function index()    {        $this->view->engine->layout('layout/main');        try{            $banner = BannerModel::getList([]);            if($banner['code'] == 0){                throw new \think\Exception($banner['msg']);            }            foreach($banner['rows'] as $k => &$v){                if($v->sys_file == null || !check_file_exits($v->sys_file->save_path)){                   unset($banner['rows'][$k]);                }else{                    $v['save_path'] = $v->sys_file->save_path;                }            }            //æ–°é—»èµ„è®¯            $news = NewsModel::getList([]);            if ($news['code'] == 0) {                throw new \think\Exception($news['msg']);            }            foreach($news['rows'] as $k => &$v){               $v['sub_content'] = mb_substr(strip_tags($v['content']),0,50);                if($v->sys_file != null && check_file_exits($v->sys_file->save_path)){                    $v['save_path'] = $v->sys_file->save_path;                }else{                    $v['save_path'] = '';                }            }            return view('',['tag'=>'index','banner'=>$banner['rows'],'news'=>$news['rows']]);        }catch (\Exception $e){            $this->view->engine->layout(false);            return view('layout/message',['message'=> $e->getMessage()]);        }    }}