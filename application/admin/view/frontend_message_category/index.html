{include file="admin@frontend_message/tab" /}
<div class="example">
    <form id="search_form">
        <div class="form-group col-md-2 padding-left-0">
            <input type="text" class="form-control activeName" name="info" placeholder="分类名称">
        </div>
        <div class="form-group col-md-2 padding-left-0">
            <div class="btn-actions">
                <button type="button" class="btn btn-primary search_button" data-table=".cdtable" data-url="{:url('admin/customer/index')}">&nbsp;&nbsp;<i class="fa fa-search" aria-hidden="true"></i>&nbsp;查询&nbsp;&nbsp;</button>
            </div>
        </div>
    </form>


    <div class="form-group col-md-8 padding-right-0">
        <div class="btn-actions pull-right">
            <a href="#" data-toggle="modal" data-target="#addForm"><button type="button" class="btn btn-success" id="saveChlidMenu"><i class="fa fa-plus" aria-hidden="true"></i> 新增 </button></a>
        </div>
    </div>
</div>

<table class="table table-bordered text-center cdtable"
       data-toggle="table"
       data-url="{:url('admin/frontend_message_category/index')}"
       data-pagination="true"
       data-side-pagination="server"
       data-striped="true"
       data-sort-order="desc"
     >
    <thead>
    <tr>
        <th class="text-center" data-field="name" data-sortable="true">分类名称</th>
        <th class="text-center" data-field="sort" data-sortable="true">排序</th>
        <th class="text-center" data-field="is_show" data-sortable="true">是否显示</th>
        <th class="text-center" data-field="create_time" data-sortable="true">创建时间</th>
        <th class="text-center" data-formatter="actFmt"> 操作</th>
    </tr>
    </thead>
</table>


<div class="modal fade in" id="addForm" aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-center">
        <form class="modal-content form-horizontal" >
            <div class="modal-header">
                <button type="button" class="close" aria-hidden="true" data-dismiss="modal">×</button>
                <h4 class="modal-title" id="myModalLabel">新增</h4>
            </div>
            <div class="modal-body">

                <div class="form-group">
                    <label class="col-sm-3 control-label"><span class="required">*</span> 分类名称：</label>
                    <div class="col-sm-9">
                        <input  type="text" class="form-control " name="name" value="" >
                    </div>
                </div>

                <div class="form-group link_url">
                    <label class="col-sm-3 control-label"><span class="required">*</span> 排序：</label>
                    <div class="col-sm-9">
                        <input  required data-rule-mobile="mobile" type="number" class="form-control " name="mobile" value="">
                    </div>
                </div>
                <div class="form-group link_url">
                    <label class="col-sm-3 control-label"><span class="required">*</span> 是否显示：</label>
                    <div class="col-sm-9">
                        <input  required data-rule-mobile="mobile" type="number" class="form-control " name="mobile" value="">
                    </div>
                </div>
                <div class="form-group margin-top-25" style="text-align: center">
                    <button class="btn btn-primary margin-right-10 btn-save" type="button" data-url="{:url('admin/customer/create')}">保存</button>
                    <a class="btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    //操作
    function actFmt(value, row, index) {
        var reset_url = "{:url('admin/customer/reset')}?id="+row.id,freeze_url = "{:url('admin/customer/freeze')}?id="+row.id,unfreeze_url = "{:url('admin/customer/unfreeze')}?id="+row.id;
        return '<button type="button" class="btn btn-outline btn-danger btn-sm" data-toggle="confirm" data-message="确定重置『'+row.mobile+'』的密码吗?"  data-url="'+reset_url+'"> 重置密码' + '</button>' +
            ' <button type="button" class="btn btn-outline btn-warning btn-sm" data-toggle="confirm" data-message="确定冻结『'+row.mobile+'』吗?"  data-url="'+freeze_url+'"> 冻结' + '</button>'
            +
            ' <button type="button" class="btn btn-outline btn-success btn-sm" data-toggle="confirm" data-message="确定解冻『'+row.mobile+'』吗?"  data-url="'+unfreeze_url+'"> 解冻' + '</button>';
    }
</script>