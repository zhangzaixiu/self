<?phpnamespace app\admin\model;use app\common\model\BaseModel;use app\common\model\SysFileModel;class FrontendMessageModel extends BaseModel{    public static function getList($input){        try{            $default = [                'sort'=>'id',                'order'=>'desc',                'offset'=>0,                'limit'=>null,            ];            $input = array_merge($default,$input);            $message = self::field('*')->with('sys_file,frontend_message_category');            $message->order($input['sort'],$input['order']);            $message->limit($input['offset'],$input['limit']);            $rows = $message->select();//            var_dump($rows);die;//            foreach ($rows as $k => &$v){//                $v['link_alias'] = $v['link_url']?'<a  target="_blank" href="'.$v['link_url'].'">'.$v['link_url'].'</a>':'';////                $v['download'] = '';//                if($v->sys_file != null && check_file_exits($v->sys_file->save_path)){//                    $v['download'] = '<a  target="_blank" href="'.$v->sys_file->save_path.'">'.$v->sys_file['name'].'</a>';//                }//            }            $count = $message->count();            return ['code'=>1,'total' => $count,'rows'=>$rows];        }catch(\Exception $e) {            return array('code' => 0, 'rows' => [], 'msg' => $e->getMessage());        }    }    public function sysFile()    {        return $this->hasOne(SysFileModel::class,'id','file_id')->bind(['save_path']);    }    public function frontendMessageCategory()    {        return $this->hasOne(FrontendMessageCategoryModel::class,'id','category_id')->bind([            'category_name'=>'name',        ]);    }}