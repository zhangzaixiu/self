<?phpnamespace app\admin\model;use app\common\model\BaseModel;use think\Exception;class UserModel extends BaseModel{    public function getStatusAliasAttr($value,$data)    {        $status = [1=>'正常',2=>'冻结'];        return $status[$data['status']];    }    public function setLastLoginTimeAttr($value)    {        return date('Y-m-d H:i:s',$value);    }    /**     * 获取下拉列表需要的用户信息     * @return array     */    public static function getSelectArray(){        try {            $user = self::field(['id','name'])->order(['id'=>'desc'])->select();            $name_list = [];            foreach ($user as $k => $v){                $name_list[$v['id']] = $v['name'];            }            return $name_list;        }catch (Exception $e){            //记录错误日志//            var_dump($e->getMessage());            return [];        }    }    public function userRole()    {        return $this->hasOne(UserRoleModel::class,'id','role_id');    }    public static function getUserRoleArr($user){        return isset($user->user_role)&& !empty($user->user_role)?explode(',',$user->user_role->menu_ids):[];    }}